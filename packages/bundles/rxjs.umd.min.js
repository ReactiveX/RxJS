!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.RxJS={})}(this,function(e){"use strict";var n;function r(){}(n=e.FOType||(e.FOType={}))[n.SUBSCRIBE=0]="SUBSCRIBE",n[n.NEXT=1]="NEXT",n[n.COMPLETE=2]="COMPLETE",n[n.ERROR=3]="ERROR",n[n.DISPOSE=4]="DISPOSE";var t={error:null};function o(e){for(var n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];t.error=null;try{n=e.apply(void 0,r)}catch(e){return t.error=e,t}return n}function i(e){return e===t}function u(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,n){return n+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}u.prototype=Object.create(Error.prototype);var c=u,s=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._teardowns=e,this._closed=!1},f=new s;f._closed=!0,s.EMPTY=f;var a=s.prototype;function p(e){if(e){if("function"==typeof e.unsubscribe)return function(){return e.unsubscribe()};if("function"==typeof e)return e}return r}function l(e){return e}function h(e){return e.length<=0?l:1===e.length?e[0]:function(n){return e.reduce(function(e,n){return n(e)},n)}}function y(n){return function(r,t,o){switch(r){case e.FOType.NEXT:"function"==typeof n.next&&n.next(t,o);break;case e.FOType.ERROR:"function"==typeof n.error&&n.error(t);break;case e.FOType.COMPLETE:"function"==typeof n.complete&&n.complete()}}}function O(e){return e&&("object"==typeof e||"function"==typeof e.next||"function"==typeof e.error||"function"==typeof e.complete)}function d(e){var n=e;return n.subscribe=v,n.pipe=b,n.forEach=T,n.toPromise=E,Symbol&&Symbol.observable&&(n[Symbol.observable]=function(){return n}),n}function v(n,r,t){var o,i=new s;return o=n||r||t?O(n)?y(n):function(n,r,t){return function(o,i,u){switch(o){case e.FOType.NEXT:"function"==typeof n&&n(i,u);break;case e.FOType.ERROR:"function"==typeof r&&r(i);break;case e.FOType.COMPLETE:"function"==typeof t&&t()}}}(n,r,t):function(){},this(e.FOType.SUBSCRIBE,function(n){return function(r,t,o){o.closed?r===e.FOType.ERROR&&console.warn("Error thrown after subscription closed",t):(n(r,t,o),r>=2&&o.unsubscribe())}}(o),i),i}function T(n,r){var t=this;return new Promise(function(u,c){var f=!1,a=!1;r&&r.add(function(){if(!f&&!a){var e=new Error("forEach aborted");e.name="AbortError",c(e)}}),r=r||new s,t(e.FOType.SUBSCRIBE,function(r,t,s){if(!s.closed)switch(r){case e.FOType.NEXT:var p=o(n,t);i(p)&&(a=!0,c(p.error),s.unsubscribe());break;case e.FOType.COMPLETE:f=!0,u(),s.unsubscribe();break;case e.FOType.ERROR:a=!0,c(t),s.unsubscribe()}},r)})}function E(){var e=this;return new Promise(function(n,r){e.subscribe({_last:void 0,next:function(e){this._last=e},error:function(e){r(e)},complete:function(){n(this._last)}})})}function b(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return h(e)(this)}function F(e){return(e=d(e)).next=R,e.error=S,e.complete=m,e.unsubscribe=I,e.asObservable=w,e}function R(n,r){this(e.FOType.NEXT,n,r)}function S(n){this(e.FOType.ERROR,n,void 0)}function m(){this(e.FOType.COMPLETE,void 0,void 0)}function I(){this(e.FOType.DISPOSE,void 0,void 0)}function w(){var e=this;return d(function(n,r,t){e(n,r,t)})}function g(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}a.add=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var t=this._teardowns,o=function(n){var r;n&&(i._closed?p(n)():((r=n)&&"function"==typeof r.unsubscribe&&"function"==typeof r.add&&"function"==typeof r.remove&&n.add(function(){return e.remove(n)}),t.push(n)))},i=this,u=0,c=n;u<c.length;u++){o(c[u])}},a.remove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=this._teardowns,t=0,o=e;t<o.length;t++){var i=o[t];if(i){var u=r.indexOf(i);u>=0&&r.splice(u,1)}}},a.unsubscribe=function(){if(!this._closed){this._closed=!0;for(var e=this._teardowns,n=void 0;e.length>0;){var r=o(p(e.shift()));if(i(r)){var t=r.error;(n=n||new c(t instanceof c?t.errors:[])).errors.push(t)}}if(n)throw n}},Object.defineProperty(a,"closed",{get:function(){return this._closed}}),g.prototype=Object.create(Error.prototype);var B=g;function C(){var n,r=!1;return function(t,o,i){if(r)throw new B;if(t===e.FOType.SUBSCRIBE)(n=n||[]).push(o,i),i.add(function(){if(n){var e=n.indexOf(o);n.splice(e,2)}});else if(t===e.FOType.DISPOSE)r=!0,n=null;else if(n){var u=n.slice();t!==e.FOType.NEXT&&(n=void 0);for(var c=0;c<u.length;c+=2)u[c](t,o,u[c+1])}}}var _=function(n,r){return F(arguments.length>0?(t=y(n),o=r,function(n,r,i){n===e.FOType.SUBSCRIBE?o(n,r,i):t(n,r,i)}):N());var t,o};function N(){var n,r=C(),t=!1,o=!1,i=!1;return function(u,c,s){u===e.FOType.DISPOSE&&(i=!0),u===e.FOType.SUBSCRIBE&&(t?c(e.FOType.COMPLETE,void 0,s):o&&c(e.FOType.ERROR,n,s)),(i||!t&&!o)&&(u===e.FOType.COMPLETE?t=!0:u===e.FOType.ERROR&&(o=!0,n=c),r(u,c,s))}}var P=function(){var n,r=!1,t=!1,o=!1,i=N(),u=function(u,c,s){if(!o)switch(u){case e.FOType.SUBSCRIBE:t&&r&&c(e.FOType.NEXT,n,s);break;case e.FOType.NEXT:return void(t||o||(r=!0,n=c));case e.FOType.ERROR:o=!0;break;case e.FOType.COMPLETE:t=!0,r&&i(e.FOType.NEXT,n,s)}i(u,c,s)};return u=F(u)},x=function(n){var r,t=!1,o=n,i=!1,u=!1,c=N(),s=function(n,s,f){switch(n){case e.FOType.SUBSCRIBE:t||i||s(e.FOType.NEXT,o,f);break;case e.FOType.NEXT:o=s;break;case e.FOType.ERROR:i=!0,r=s;break;case e.FOType.COMPLETE:t=!0;break;case e.FOType.DISPOSE:u=!0}c(n,s,f)};return(s=F(s)).getValue=function(){if(u)throw new B;if(i)throw r;return o},Object.defineProperty(s,"value",{get:function(){return o}}),s},U=function(n,r){var t,o=function(n,o,i){(t=t||r())(e.FOType.SUBSCRIBE,o,i)};return(o=d(o)).connect=function(){t=t||r();var o=new s;return n(e.FOType.SUBSCRIBE,t,o),o},o.refCount=L,o};function L(){var e,n=this,r=0;return d(function(t,o,i){r++,i.add(function(){0===--r&&e.unsubscribe()}),1===r&&(e=n.connect())})}var M=d(function(n,r,t){n===e.FOType.SUBSCRIBE&&r(e.FOType.COMPLETE,void 0,t)});function X(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return d(k(e))}function k(n){return function(r,t,o){if(r===e.FOType.SUBSCRIBE){for(var i=0;i<n.length&&!o.closed;i++){if(o.closed)return;t(e.FOType.NEXT,n[i],o)}o.closed||t(e.FOType.COMPLETE,void 0,o)}}}X(1,"test");function j(n){return d(function(r,t,o){r===e.FOType.SUBSCRIBE&&t(e.FOType.ERROR,n,o)})}var V=function(e,n,r){this.kind=e,this.value=n,this.error=r};(V.prototype=Object.create(Object.prototype)).constructor=V,Object.defineProperty(V.prototype,"hasValue",{get:function(){return"N"===this.kind}}),V.prototype.observe=function(e,n){switch(this.kind){case"N":return e.next&&e.next(this.value,n||new s);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},V.prototype.do=function(e,n,r,t){switch(this.kind){case"N":return e&&e(this.value,t||new s);case"E":return n&&n(this.error);case"C":return r&&r()}},V.prototype.accept=function(e,n,r,t){return O(e)?this.observe(e,t):this.do(e,n,r,t)},V.prototype.toObservable=function(){switch(this.kind){case"N":return X(this.value);case"E":return j(this.error);case"C":return M}throw new Error("unexpected notification kind value")};var A=new V("C"),Y=new V("N");V.createNext=function(e){return void 0===e?Y:new V("N",e)},V.createError=function(e){return new V("E",void 0,e)},V.createComplete=function(){return A};var D="closed",q=Symbol("rxjs subscription");function J(n){this(e.FOType.NEXT,n,this[q])}function z(n){this(e.FOType.ERROR,n,this[q])}function Q(){this(e.FOType.COMPLETE,void 0,this[q])}var G=function(n){return d(function(r,t,u){if(n){var c=function(n,r){var t=!1;r.add(function(){return t=!0});var o=function(r,o,i){switch(r){case e.FOType.NEXT:t||n(e.FOType.NEXT,o,i);break;case e.FOType.ERROR:t||(t=!0,n(e.FOType.ERROR,o,i),i.unsubscribe());break;case e.FOType.COMPLETE:t||(t=!0,n(e.FOType.COMPLETE,void 0,i),i.unsubscribe())}};return o.next=J,o.error=z,o.complete=Q,o[q]=r,Object.defineProperty(o,D,{get:function(){return t}}),o}(t,u),s=o(n,c);if(i(s))return c(e.FOType.ERROR,s.error,u),void u.unsubscribe();u.add(s)}})},H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])};function K(e,n){function r(){this.constructor=e}H(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}function W(e){setTimeout(function(){throw e})}var Z={next:function(){},error:function(){},complete:function(){}},$=function(e){function n(r,t,o){var i=e.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,i._parentSubscription=null,arguments.length){case 0:i.destination=Z;break;case 1:if(!r){i.destination=Z;break}if("object"==typeof r){r instanceof n?(i.syncErrorThrowable=r.syncErrorThrowable,i.destination=r,r.add(i)):(i.syncErrorThrowable=!0,i.destination=new ee(i,r));break}default:i.syncErrorThrowable=!0,i.destination=new ee(i,r,t,o)}return i}return K(n,e),n.create=function(e,r,t){var o=new n(e,r,t);return o.syncErrorThrowable=!1,o},n.prototype.next=function(e){this.isStopped||this._next(e)},n.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},n.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},n.prototype._next=function(e){this.destination.next(e,this)},n.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},n.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},n}(s),ee=function(e){function n(n,r,t,o){var i,u=e.call(this)||this;u._parentSubscriber=n;var c=u;return"function"==typeof r?i=r:r&&(i=r.next,t=r.error,o=r.complete,r!==Z&&("function"==typeof(c=Object.create(r)).unsubscribe&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(u))),u._context=c,u._next=function(e){return i(e,u)},u._error=t,u._complete=o,u}return K(n,e),n.prototype.next=function(e){if(!this.isStopped&&this._next){var n=this._parentSubscriber;n.syncErrorThrowable?this.__tryOrSetError(n,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},n.prototype.error=function(e){if(!this.isStopped){var n=this._parentSubscriber;this._error?n.syncErrorThrowable?(this.__tryOrSetError(n,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe()):(W(e),this.unsubscribe())}},n.prototype.complete=function(){var e=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var r=function(){return e._complete.call(e._context)};n.syncErrorThrowable?(this.__tryOrSetError(n,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},n.prototype.__tryOrUnsub=function(e,n){try{e.call(this._context,n)}catch(e){this.unsubscribe(),W(e)}},n.prototype.__tryOrSetError=function(e,n,r){try{n.call(this._context,r)}catch(e){return W(e),!0}return!1},n.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},n}($),ne=function(n,r){return void 0===n&&(n=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY),F(function(n,r){void 0===n&&(n=Number.POSITIVE_INFINITY);void 0===r&&(r=Number.POSITIVE_INFINITY);var t,o,i=C(),u=[];return function(c,s,f){i(c,s,f);for(var a=Date.now(),p=0;p<u.length;p++){var l=u[p],h=l.arg,y=l.timeout;if(y<a){u.splice(p);break}c===e.FOType.SUBSCRIBE&&s(e.FOType.NEXT,h,f)}if(t)c===e.FOType.SUBSCRIBE&&(s(t,o,f),f.unsubscribe());else switch(c){case e.FOType.NEXT:u.push({arg:s,timeout:a+r}),u.length>n&&u.splice(0,u.length-n);break;case e.FOType.ERROR:t=e.FOType.ERROR,o=s;break;case e.FOType.COMPLETE:t=e.FOType.COMPLETE}}}(n,r))};var re=d(function(){});function te(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length}function oe(e){return null!=e&&"function"==typeof e.then}function ie(e){return"function"==typeof e[Symbol.iterator]}var ue=Symbol&&Symbol.observable||"@@observable";function ce(e){return"function"==typeof e[ue]}var se=Symbol&&Symbol.asyncIterator||"@@asyncIterator";function fe(e){return"function"==typeof e[se]}function ae(e){return"function"==typeof e&&"function"==typeof e.subscribe&&"function"==typeof e.toPromise}function pe(n){if(ae(n))return n;if(oe(n))return t=n,function(n,r,o){n===e.FOType.SUBSCRIBE&&t.then(function(n){o.closed||(r(e.FOType.NEXT,n,o),r(e.FOType.COMPLETE,void 0,o))},function(n){o.closed||r(e.FOType.ERROR,n,o)})};if(te(n))return k(n);if(ie(n))return r=n,function(n,t,o){if(n===e.FOType.SUBSCRIBE){for(var i=r[Symbol.iterator]();;){if(o.closed)return;var u=i.next(),c=u.done,s=u.value;if(c)break;t(e.FOType.NEXT,s,o)}t(e.FOType.COMPLETE,void 0,o)}};if(ce(n))return function(n){return function(r,t,o){if(r===e.FOType.SUBSCRIBE){var i,u=n[ue]();if(u||t(e.FOType.ERROR,new Error("invalid Symbol.observable implementation, observable not returned"),o),"function"!=typeof u.subscribe)return void t(e.FOType.ERROR,new Error("invalid Symbol.observable implementation, no subscribe method on returned value"),o);o.add(function(){i&&"function"==typeof i.unsubscribe&&i.unsubscribe()}),i=u.subscribe({next:function(n){t(e.FOType.NEXT,n,o)},error:function(n){t(e.FOType.ERROR,n,o)},complete:function(){t(e.FOType.COMPLETE,void 0,o)}})}}}(n);if(fe(n))return function(n){return function(r,t,o){if(r===e.FOType.SUBSCRIBE){var i,u=n[se]();(i=function(){return u.next().then(function(n){n.done?t(e.FOType.COMPLETE,void 0,o):(t(e.FOType.NEXT,n.value,o),i())},function(n){t(e.FOType.ERROR,n,o)})})()}}}(n);var r,t;throw new Error("Unable to convert from input to Observable source")}function le(n){return function(r){return d(function(t,o,i){t===e.FOType.SUBSCRIBE&&n(r,o,i)})}}var he=function(n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(n,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),le(function(t,u,c){var f,a=0,p=0,l=!1,h=[];f=function(){for(var t=function(){p++;var r=h.shift(),t=r.outerValue,a=r.outerIndex,y=o(function(){return pe(n(t,a))});if(i(y))return u(e.FOType.ERROR,y.error,c),c.unsubscribe(),{value:void 0};var O=new s;c.add(O),y(e.FOType.SUBSCRIBE,function(n,r,t){switch(n){case e.FOType.NEXT:u(e.FOType.NEXT,r,c);break;case e.FOType.ERROR:u(e.FOType.ERROR,r,c),c.unsubscribe();break;case e.FOType.COMPLETE:c.remove(t),p--,h.length>0&&f(),l&&0==h.length&&0===p&&u(e.FOType.COMPLETE,void 0,c)}},O)};h.length>0&&p<r;){var a=t();if("object"==typeof a)return a.value}},t(e.FOType.SUBSCRIBE,function(n,r){switch(n){case e.FOType.NEXT:var t=a++;h.push({outerValue:r,outerIndex:t}),f();break;case e.FOType.ERROR:c.closed||(u(e.FOType.ERROR,r,c),c.unsubscribe());break;case e.FOType.COMPLETE:l=!0,h.length>0?f():0===p&&u(e.FOType.COMPLETE,void 0,c)}},c)})}(l,n)},ye=function(){return he(1)};function Oe(n){return d(function(n){return function(r,t,u){if(r===e.FOType.SUBSCRIBE){var c=o(function(){return pe(n())});if(i(c))return void t(e.FOType.ERROR,c.error,u);c(e.FOType.SUBSCRIBE,t,u)}}}(n))}function de(){return{hasValue:!1,completed:!1,value:void 0}}function ve(e){return e.completed}function Te(e){return e.hasValue}function Ee(e){return e.value}function be(e){return d(pe(e))}function Fe(n){var r=n.i,t=n.input,o=n.subs,i=n.sink,u=n.scheduler;if(!o.closed&&r<t.length)if(r<t.length){if(i(e.FOType.NEXT,t[n.i++],o),o.closed)return;u.schedule(Fe,0,n,o)}else i(e.FOType.COMPLETE,void 0,o)}function Re(n){var r=n.iterator,t=n.subs,o=n.sink,i=n.scheduler;if(!t.closed){var u=r.next(),c=u.done,s=u.value;c?o(e.FOType.COMPLETE,void 0,t):(o(e.FOType.NEXT,s,t),i.schedule(Re,0,n,t))}}var Se={now:function(){return Date.now()},schedule:function(e,n,r,t){void 0===n&&(n=0),void 0===r&&(r=void 0),t=t||new s;var o=setTimeout(function(){return e(r)},n);return t.add(function(){return clearTimeout(o)}),t}};function me(n){var r=n.subs,t=n.dest,o=n.interval,i=n.scheduler;r.closed||(t(e.FOType.NEXT,n.i++,r),i.schedule(me,o,n,r))}function Ie(e,n){var r,t=null!=(r=n)&&"function"==typeof r.next&&"function"==typeof r.error&&"function"==typeof r.complete?function(){return n}:n;return new U(e,t)}var we=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];s.apply(this,e)};function ge(n){return le(function(r,t,u){var c=0;r(e.FOType.SUBSCRIBE,function(r,u,s){if(r===e.FOType.NEXT){var f=o(n,u,c++);if(i(f))return t(e.FOType.ERROR,f.error,s),void s.unsubscribe();if(!f)return}t(r,u,s)},u)})}function Be(e){return!Array.isArray(e)&&e-parseFloat(e)+1>=0}function Ce(e){return Boolean(e&&"function"==typeof e.schedule)}function _e(n){var r=n.dest,t=n.scheduler,o=n.subs,i=n.period;o.closed||(r(e.FOType.NEXT,n.i++,o),o.closed||(i>=0?t.schedule(_e,i,n,o):r(e.FOType.COMPLETE,void 0,o)))}function Ne(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}we.prototype=Object.create(s.prototype),we.prototype.recycle=function(){for(var e=this._teardowns;e.length>0;)p(e.shift())()},Ne.prototype=Object.create(Error.prototype);var Pe=Ne;function xe(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}xe.prototype=Object.create(Error.prototype);var Ue=xe;function Le(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}Le.prototype=Object.create(Error.prototype);var Me=Le,Xe=[],ke=0,je={now:function(){return Date.now()},schedule:function(e,n,r,t){return void 0===n&&(n=0),void 0===r&&(r=void 0),t=t||new s,n>0?Se.schedule(function(n){je.schedule(e,0,n,t)},n,r,t):(Xe.push(e,r),t.add(function(){var n=Xe.indexOf(e);n>=0&&(Xe.splice(n,2),0===Xe.length&&cancelAnimationFrame(ke))}),2===Xe.length&&(ke=requestAnimationFrame(function(){for(;Xe.length>0;)Xe.shift()(Xe.shift())}))),t}},Ve=Promise.resolve(),Ae={now:function(){return Date.now()},schedule:function(e,n,r,t){if(void 0===n&&(n=0),void 0===r&&(r=void 0),t=t||new s,n>0)return Se.schedule(e,n,r,t),t;var o=!1;return t.add(function(){return o=!0}),Ve.then(function(){o||e(r)}),t}};function Ye(){this._flushing=!1,this._queue=[]}var De=Ye.prototype;De.now=function(){return Date.now()},De.schedule=function(e,n,r,t){if(void 0===n&&(n=0),void 0===r&&(r=void 0),t=t||new s,n>0)return Se.schedule(e,n,r,t);var o=this._queue;if(t.add(function(){var n=o.indexOf(e);o.splice(n,2)}),o.push(e,r),!this._flushing){for(this._flushing=!0;o.length>0;)o.shift()(o.shift());this._flushing=!1}return t};var qe=Ye,Je=new qe;function ze(e){void 0===e&&(e=Number.POSITIVE_INFINITY),this._actions=[],this._flushing=!1,this.maxFrames=Number.POSITIVE_INFINITY,this.frame=0,this.frameTimeFactor=1,this.index=-1}var Qe=ze.prototype;Qe.schedule=function(e,n,r,t){void 0===n&&(n=0),void 0===r&&(r=void 0),t=t||new s;var o=this._actions,i={index:this.index++,delay:this.frame+n,work:e,state:r,subs:t};return t.add(function(){var e=o.indexOf(i);e>=0&&o.splice(e,1)}),o.push(i),o.sort(He),t},Qe.now=function(){return this.frame},Qe.flush=function(){if(!this._flushing){var e=this._actions,n=this.maxFrames;this._flushing=!0;for(var r=void 0;r=e.shift();)if(!(this.frame>r.delay)){if(this.frame=r.delay,this.frame>n)break;try{r.work(r.state)}catch(n){for(;e.length>0;)e.shift().subs.unsubscribe();throw n}}e.length=0,this._flushing=!1}};var Ge=ze;function He(e,n){return e.delay===n.delay?e.index===n.index?0:e.index>n.index?1:-1:e.delay>n.delay?1:-1}e.AsyncSubject=P,e.BehaviorSubject=x,e.ConnectableObservable=U,e.Notification=V,e.Observable=G,e.Subject=_,e.Subscriber=$,e.Subscription=s,e.ReplaySubject=ne,e.EMPTY=M,e.NEVER=re,e.combineLatest=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n&&1===n.length&&Array.isArray(n[0])&&(n=n[0]),d(function(n){return function(r,t,u){if(r===e.FOType.SUBSCRIBE)for(var c=new Array(n.length),s=n.map(function(){return!1}),f=n.map(function(){return!1}),a=!1,p=function(r){var p=n[r],h=o(pe,p);if(i(h))return t(e.FOType.ERROR,h.error,u),{value:void 0};h(e.FOType.SUBSCRIBE,function(n,o,i){switch(n){case e.FOType.NEXT:c[r]=o,s[r]=!0,(a||(a=s.every(l)))&&t(e.FOType.NEXT,c.slice(0),i);break;case e.FOType.ERROR:t(n,o,i);break;case e.FOType.COMPLETE:f[r]=!0,f.every(l)&&t(e.FOType.COMPLETE,void 0,i)}},u)},h=0;h<n.length;h++){var y=p(h);if("object"==typeof y)return y.value}}}(n))},e.concat=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return X.apply(void 0,e).pipe(ye())},e.defer=Oe,e.forkJoin=function n(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(0===r.length)return M;if(1===r.length&&Array.isArray(r[0]))return n.apply(void 0,r[0]);var u=r;return d(function(n,r,t){if(n===e.FOType.SUBSCRIBE)for(var c=u.map(de),s=function(n){var s=o(pe,u[n]);i(s)?r(e.FOType.ERROR,s.error,t):s(e.FOType.SUBSCRIBE,function(t,o,i){var u=c[n];t===e.FOType.NEXT?(u.hasValue=!0,u.value=o):t===e.FOType.COMPLETE?(u.completed=!0,u.hasValue&&!c.every(ve)||(c.every(Te)&&r(e.FOType.NEXT,c.map(Ee),i),r(e.FOType.COMPLETE,void 0,i))):t===e.FOType.ERROR&&r(e.FOType.ERROR,o,i)},t)},f=0;f<u.length&&!t.closed;f++)s(f)})},e.from=be,e.fromEvent=function(n,r,t){return d(function(o,i,u){!function n(r,t,o,i,u,c){var s;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(r)){var f=r;r.addEventListener(t,o,c),s=function(){return f.removeEventListener(t,o,c)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(r)){var a=r;r.on(t,o),s=function(){return a.off(t,o)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(r)){var p=r;r.addListener(t,o),s=function(){return p.removeListener(t,o)}}else{if(!r||!r.length)return void u(e.FOType.ERROR,new TypeError("Invalid event target"),i);for(var l=0,h=r.length;l<h;l++)n(r[l],t,o,i,u,c)}i.add(s)}(n,r,function(n){var r=arguments.length>1?Array.from(arguments):n;i(e.FOType.NEXT,r,u)},u,i,t)})},e.fromEventPattern=function(n,r){return d(function(t,u,c){var s=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return u(e.FOType.NEXT,1===n.length?n[0]:n,c)},f=o(n,s);i(f)?u(e.FOType.ERROR,f.error,c):"function"==typeof r&&c.add(function(){return r(s,f)})})},e.fromScheduled=function(n,r){if(ae(n))return d(function(n,r){return function(t,o,i){t===e.FOType.SUBSCRIBE&&r.schedule(function(){n(e.FOType.SUBSCRIBE,function(e,n,t){r.schedule(function(){o(e,n,t)},0,null,t)},i)},0,null,i)}}(n,r));if(ce(n))return d(function(n,r){return function(t,o,i){t===e.FOType.SUBSCRIBE&&r.schedule(function(){var t=n[Symbol.observable](),u=t.subscribe({next:function(n){r.schedule(function(){return o(e.FOType.NEXT,n,i)},0,null,i)},error:function(n){r.schedule(function(){o(e.FOType.ERROR,n,i)},0,null,i)},complete:function(){r.schedule(function(){o(e.FOType.COMPLETE,void 0,i)},0,null,i)}});i.add(u)},0,null,i)}}(n,r));if(oe(n))return d(function(n,r){return function(t,o,i){t===e.FOType.SUBSCRIBE&&r.schedule(function(){n.then(function(n){r.schedule(function(){o(e.FOType.NEXT,n,i),r.schedule(function(){return o(e.FOType.COMPLETE,void 0,i)},0,null,i)},0,null,i)},function(n){r.schedule(function(){return o(e.FOType.ERROR,n,i)},0,null,i)})},0,null,i)}}(n,r));if(fe(n))return d(function(n,r){return function(t,o,i){t===e.FOType.SUBSCRIBE&&r.schedule(function(){var t=n[se](),u=function(){return r.schedule(function(){t.next().then(function(n){var t=n.done,c=n.value;t?r.schedule(function(){return o(e.FOType.COMPLETE,void 0,i)},0,null,i):(r.schedule(function(){return o(e.FOType.NEXT,c,i)},0,null,i),u())},function(n){r.schedule(function(){return o(e.FOType.ERROR,n,i)},0,null,i)})},0,null,i)};u()},0,null,i)}}(n,r));if(ie(n))return d(function(n,r){return function(t,o,i){if(t===e.FOType.SUBSCRIBE){var u=n[Symbol.iterator]();r.schedule(Re,0,{iterator:u,subs:i,sink:o,scheduler:r},i)}}}(n,r));if(te(n))return d(function(n,r){return function(t,o,i){t===e.FOType.SUBSCRIBE&&r.schedule(Fe,0,{i:0,input:n,subs:i,sink:o,scheduler:r},i)}}(n,r));throw new Error("not implemented yet")},e.iif=function(e,n,r){return void 0===n&&(n=M),void 0===r&&(r=M),Oe(function(){return e()?n:r})},e.interval=function(n,r){return void 0===r&&(r=Se),n=Math.max(0,n),d(function(t,o,i){if(t===e.FOType.SUBSCRIBE){var u={i:0,subs:i,interval:n,dest:o,scheduler:r};r.schedule(me,n,u,i)}})},e.merge=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return X.apply(void 0,e).pipe(he())},e.multicast=Ie,e.of=X,e.onEmptyResumeNext=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return d(function(r,t,o){if(r===e.FOType.SUBSCRIBE){var i,u=n.slice(),c=!1,s=new we;o.add(s),(i=function(){var n=u.shift();c=!1,n(e.FOType.SUBSCRIBE,function(n,r,u){c=c||n===e.FOType.NEXT,n!==e.FOType.COMPLETE||c?t(n,r,o):(s.recycle(),i())},s)})()}})},e.onErrorResumeNext=function n(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return 1===r.length&&Array.isArray(r[0])?n.apply(void 0,r[0]):d(function(n,t,u){var c,s=r.slice(),f=new we;u.add(f),(c=function(){var n=o(pe,s.shift());if(i(n))return f.recycle(),void c();n(e.FOType.SUBSCRIBE,function(n,r,o){n===e.FOType.ERROR&&s.length>0?(f.recycle(),c()):(n===e.FOType.ERROR&&(n=e.FOType.COMPLETE),t(n,r,u))},f)})()})},e.partition=function(e,n){return[e.pipe(ge(n)),e.pipe(ge(function(e,r){return!n(e,r)}))]},e.pairs=function(n){return d(function(r,t,o){for(var i=Object.keys(n),u=0;u<i.length&&!o.closed;u++){var c=i[u];n.hasOwnProperty(c)&&t(e.FOType.NEXT,[c,n[c]],o)}t(e.FOType.COMPLETE,void 0,o)})},e.publish=function(e){return Ie(e,new _)},e.publishBehavior=function(e,n){return Ie(e,new x(n))},e.publishLast=function(e){return Ie(e,new P)},e.publishReplay=function(e,n,r){return void 0===n&&(n=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY),Ie(e,new ne(n,r))},e.race=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])&&(n=n[0]),d(function(n){return function(r,t,u){if(r===e.FOType.SUBSCRIBE)for(var c=[],f=0;f<n.length;f++){var a=n[f],p=o(pe,a);if(i(p))return void t(e.FOType.ERROR,p.error,u);var l=new s;u.add(l),c.push(l),p(e.FOType.SUBSCRIBE,function(n,r,o){if(c&&n===e.FOType.NEXT){for(var i=0,s=c;i<s.length;i++){var f=s[i];f!==o&&f.unsubscribe()}c=null}t(n,r,u)},l)}}}(n))},e.range=function(n,r){return void 0===n&&(n=0),void 0===r&&(r=0),d(function(t,o,i){if(t===e.FOType.SUBSCRIBE){for(var u=n+r,c=n;c<u&&!i.closed;c++)o(e.FOType.NEXT,c,i);o(e.FOType.COMPLETE,void 0,i)}})},e.throwError=j,e.timer=function(n,r,t){void 0===n&&(n=0);var o=-1;return Be(r)?o=Number(r)<1?1:Number(r):Ce(r)&&(t=r),Ce(t)||(t=Se),d(function(r,i,u){void 0===r&&(r=e.FOType.SUBSCRIBE);var c=Be(n)?n:+n-t.now();r===e.FOType.SUBSCRIBE&&t.schedule(_e,c,{dest:i,scheduler:t,subs:u,i:0,period:o},u)})},e.using=function(e,n){return new G(function(r){var t,o;try{t=e()}catch(e){return void r.error(e)}try{o=n(t)}catch(e){return void r.error(e)}var i=(o?be(o):M).subscribe(r);return function(){i.unsubscribe(),t&&t.unsubscribe()}})},e.zip=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return d(function(n){return function(r,t,u){if(r===e.FOType.SUBSCRIBE){if(0===n.length)return void t(e.FOType.COMPLETE,void 0,u);for(var c=[],s=function(r){var s=[],f={buffer:s,complete:!1};c.push(f);var a=n[r],p=o(pe,a);if(i(p))return t(e.FOType.ERROR,p.error,u),{value:void 0};p(e.FOType.SUBSCRIBE,function(r,o,i){switch(r){case e.FOType.NEXT:for(s.push(o);c.length===n.length&&c.every(function(e){var n=e.buffer;return n.length>0});)t(e.FOType.NEXT,c.map(function(e){return e.buffer.shift()}),i);c.some(function(e){return e.complete&&0===e.buffer.length})&&(t(e.FOType.COMPLETE,void 0,i),i.unsubscribe());break;case e.FOType.ERROR:t(r,o,i);break;case e.FOType.COMPLETE:f.complete=!0,0===s.length&&(t(r,o,i),i.unsubscribe())}},u)},f=0;f<n.length;f++){var a=s(f);if("object"==typeof a)return a.value}}}}(n))},e.identity=l,e.noop=r,e.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return h(e)},e.isObservable=ae,e.ArgumentOutOfRangeError=Pe,e.EmptyError=Ue,e.ObjectUnsubscribedError=B,e.TimeoutError=Me,e.UnsubscriptionError=c,e.animationFrameScheduler=je,e.asapScheduler=Ae,e.asyncScheduler=Se,e.queueScheduler=Je,e.QueueScheduler=qe,e.VirtualTimeScheduler=Ge,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=rxjs.umd.min.js.map
